API DESIGN - REST API - HTTP METHODS - ENDPOINTS

=== WAT IS EEN REST API? ===

REST (Representational State Transfer) is een architectuurstijl voor web APIs. Een REST API laat systemen communiceren via HTTP requests.

REST principes:
1. Client-Server scheiding
2. Stateless (geen sessie op server)
3. Cacheable responses
4. Uniform interface
5. Layered system

Keywords: REST, API, web service, HTTP, architectuur

---

=== HTTP METHODS UITGELEGD ===

GET - Ophalen van data
- Haalt resource(s) op
- Wijzigt niets
- Voorbeeld: GET /users/123

POST - Nieuwe resource aanmaken
- Maakt nieuwe resource
- Body bevat de data
- Voorbeeld: POST /users

PUT - Resource volledig vervangen
- Vervangt hele resource
- Idempotent (herhaald = zelfde resultaat)
- Voorbeeld: PUT /users/123

PATCH - Resource gedeeltelijk updaten
- Update specifieke velden
- Voorbeeld: PATCH /users/123

DELETE - Resource verwijderen
- Verwijdert resource
- Idempotent
- Voorbeeld: DELETE /users/123

Keywords: GET, POST, PUT, PATCH, DELETE, HTTP methods, CRUD

---

=== HOE ONTWERP JE REST ENDPOINTS? ===

GOEDE URL DESIGN:
GET    /users              # Alle users ophalen
GET    /users/123          # Specifieke user ophalen
POST   /users              # Nieuwe user aanmaken
PUT    /users/123          # User updaten
DELETE /users/123          # User verwijderen
GET    /users/123/orders   # Orders van user

SLECHTE URL DESIGN:
GET    /getUsers           # Werkwoord in URL
GET    /getUserById?id=123 # Query param voor ID
POST   /createUser         # Redundant
POST   /deleteUser         # Verkeerde method

URL REGELS:
- Gebruik zelfstandige naamwoorden (users, niet getUsers)
- Meervoud voor collecties (/users)
- Lowercase met hyphens (order-items)
- Geen werkwoorden in URLs
- Hierarchie voor relaties (/users/123/orders)

Keywords: endpoints, URL design, routes, REST design

---

=== HTTP STATUS CODES ===

2xx SUCCESS:
- 200 OK: Request succesvol
- 201 Created: Resource aangemaakt
- 204 No Content: Succes, geen body

3xx REDIRECTION:
- 301 Moved Permanently
- 304 Not Modified (caching)

4xx CLIENT ERROR:
- 400 Bad Request: Ongeldige input
- 401 Unauthorized: Niet ingelogd
- 403 Forbidden: Geen rechten
- 404 Not Found: Bestaat niet
- 422 Unprocessable: Validatie gefaald

5xx SERVER ERROR:
- 500 Internal Server Error
- 502 Bad Gateway
- 503 Service Unavailable

Keywords: status codes, HTTP codes, 200, 404, 500, response codes

---

=== API RESPONSE FORMAT ===

SUCCES RESPONSE:
{
    "data": {
        "id": 123,
        "naam": "Jan",
        "email": "jan@example.com"
    },
    "meta": {
        "timestamp": "2024-01-15T10:30:00Z"
    }
}

ERROR RESPONSE:
{
    "error": {
        "code": "VALIDATION_ERROR",
        "message": "Email is ongeldig",
        "details": [
            {"field": "email", "message": "Ongeldig format"}
        ]
    }
}

PAGINATIE:
{
    "data": [...],
    "pagination": {
        "page": 1,
        "per_page": 20,
        "total": 100
    }
}

Keywords: JSON response, error handling, paginatie

---

=== API AUTHENTICATIE ===

API KEY:
- Header: X-API-Key: abc123
- Simpel maar minder veilig
- Goed voor server-to-server

JWT (JSON Web Token):
- Header: Authorization: Bearer <token>
- Stateless authenticatie
- Token bevat user info
- Verloopt na bepaalde tijd

OAUTH 2.0:
- Industrie standaard
- Access + refresh tokens
- Scopes voor permissies
- Third-party access

Keywords: authenticatie, API key, JWT, OAuth, Bearer token

---

=== API VERSIONING ===

URL PATH (aanbevolen):
/api/v1/users
/api/v2/users

HEADER:
Accept: application/vnd.api+json; version=1

QUERY PARAMETER:
/users?version=1

Keywords: versioning, v1, v2, backwards compatible

---

=== RATE LIMITING ===

Headers teruggeven:
X-RateLimit-Limit: 100
X-RateLimit-Remaining: 95
X-RateLimit-Reset: 1609459200

Bij limiet bereikt:
HTTP 429 Too Many Requests
Retry-After: 60

Keywords: rate limiting, throttling, 429, quota
